<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Add New Password</title>
  <link rel="icon" href="../static/images/favicon.png" type="image/x-icon"/>
  <!-- Font Awesome -->
  <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Bootstrap core CSS -->
  <link type="text/css" href="../static/css/bootstrap.min.css"rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link type="text/css" href="../static/css/mdb.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../static/css/main.css">
 <style>

.alert {
    background-color: #f44336;
    padding: .50rem,1.25rem;
    color: white;
}

.closebtn {
    margin-left: 15px;
    color: white;
    font-weight: bold;
    float: right;
    font-size: 22px;
    line-height: 20px;
    cursor: pointer;
    transition: 0.3s;
}

.closebtn:hover {
    color: white;
}
  .btn-toggle-pass {
      --info-color: #0099CC;
      border: none;
      position: absolute;
      top: 11px;
      background: transparent;
      right: 0;
  }

  .btn-toggle-pass.active {
      color: var(--info-color);
  }
 </style>
 
</head>

<body style="background-image: url(../static/images/wallpaper.jpg);">
  
  <!-- Navigation -->
<div class="container">
  <!-- Material form login -->
<div class="card logform">

  <h5 class="card-header info-color white-text text-center py-4">
    <strong>{% if request.session.otp %}
        Enter OTP
        {% else %}
        Enter new Password
        {% endif %}</strong>
  </h5>
  {% if error %}
  <div class="form-row">
    <div class="col"> 
      <span onclick="this.parentElement.style.display='none'">&times;</span>
      <strong>{{ error }} </strong>
    </div>
  </div>
  {% endif %}
  <!--Card content-->
  <div class="card-body px-lg-5 pt-0">
    
    <!-- Form -->
    <form class="text-center" style="color: #757575;" action="/addnewpassword/" method="POST">
      {% csrf_token %}
      {% if request.session.otp %}
      <!-- OTP -->
      <div class="md-form">
        <input type="text" id="materialLoginFormEmail" name="otp" class="form-control">
        <label for="materialLoginFormEmail">OTP</label>
      </div>
      {% else %}
      <!-- Password -->
      <div class="md-form">
        <input type="password" name="password" id="password" class="form-control disablecopypaste" aria-describedby="materialRegisterFormPasswordHelpBlock" 
        required pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" >
        <label for="materialRegisterFormPassword">Password</label>
        <small id="materialRegisterFormPasswordHelpBlock"  class="form-text text-muted mb-4">
            At least 8 characters including Capital letters and digits
        </small>
      </div>

        <!-- confirm password -->
        <div class="md-form">
        <input type="password" name="confirmpassword" id="materialRegisterFormPassword" class="form-control disablecopypaste" aria-describedby="materialRegisterFormPasswordHelpBlock">
        <label for="materialRegisterFormPassword">Confirm Password</label>
        </div>
        {% endif %}
      <button class="btn btn-outline-info btn-rounded btn-block my-4 waves-effect z-depth-0" type="submit">Submit </button>
    </form>
    <!-- Form -->

  </div>

</div>
<!-- Material form login -->
</div>
  <!-- SCRIPTS -->
  <!-- JQuery -->
  <script type="text/javascript" src="../static/js/jquery-3.4.1.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="../static/js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="../static/js/bootstrap.min.js">
  </script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="../static/js/mdb.min.js"></script>
  <script type="text/javascript">
    /* WOW.js init */
    new WOW().init();
    // Tooltips Initialization
    $(function () {
      $('[data-toggle="tooltip"]').tooltip()
    })

    // Material Select Initialization
    $(document).ready(function () {
      $('.mdb-select').material_select();
    });

    // SideNav Initialization
    $(".button-collapse").sideNav();
 $(document).ready(function () {
    $('input.disablecopypaste').bind('copy paste', function (e) {
       e.preventDefault();
    });
  });
  </script>
<script type="text/javascript" src="../static/js/main.js"></script>
</body>

</html>
